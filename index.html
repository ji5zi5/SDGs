<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>인천 신재생에너지 대시보드 (SDG 7)</title>
    <!-- Chart.js via CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <h1>인천광역시 신재생에너지 분석</h1>
                <p class="subtitle">지속가능한 에너지(SDG 7) 달성을 위한 데이터 시각화 리포트</p>
            </div>
        </header>

        <section class="intro-card section-fade">
            <div class="intro-header">
                <h2>📊 프로젝트 개요</h2>
                <div class="header-controls">
                     <span class="badge">데이터 분석 연도:</span>
                     <div class="year-buttons">
                        <button class="year-btn" onclick="filterByYear(2021)">2021</button>
                        <button class="year-btn" onclick="filterByYear(2022)">2022</button>
                        <button class="year-btn active" onclick="filterByYear(2023)">2023</button>
                    </div>
                </div>
            </div>
            <p class="intro-text">
                <strong>관찰한 문제점:</strong> 기후 위기가 심화됨에 따라 전 세계적으로 탄소 중립이 강조되고 있지만, 우리나라는 주요 선진국 대비 재생에너지 발전 비중이 여전히 낮은 편입니다. 
                특히 내가 살고 있는 지역의 에너지 전환이 실제로 어떻게 이루어지고 있는지 파악하고, 화석 연료 의존도를 낮추기 위한 실제적인 보급 현황을 면밀히 파악할 필요성을 느껴 이 목표를 선택했습니다.
            </p>
            <div class="stats-row" id="quick-stats">
                <div class="stat-box">
                    <span class="label">선택 연도</span>
                    <span class="value" id="stat-year">-</span>
                </div>
                <div class="stat-box">
                    <span class="label">총 발전량</span>
                    <span class="value" id="stat-total">-</span>
                </div>
                <div class="stat-box">
                    <span class="label">연도별 특징</span>
                    <span class="value" id="stat-feature" style="font-size: 1.35em;">-</span>
                </div>
            </div>
        </section>

        <!-- Main Dashboard Grid -->
        <main class="dashboard-grid">
            
            <!-- SECTION 1: TREND (Full Width) -->
            <section class="card full-width section-fade">
                <div class="card-header">
                    <h3>📈 연도별 발전량 추이</h3>
                    <p class="chart-desc">
                        지난 3년간 인천시의 총 신재생에너지 발전량이 어떻게 변화했는지 보여줍니다.
                    </p>
                </div>
                <div class="chart-container">
                    <canvas id="yearlyChart"></canvas>
                </div>
            </section>

             <!-- SECTION 2: GROWTH & SHARE (Side by Side) -->
             <section class="card full-width section-fade">
                <div class="card-header">
                    <h3>📊 성장률 및 지역 비중</h3>
                    <p class="chart-desc">
                        전년 대비 성장률과 각 지역이 차지하는 발전 비중을 함께 분석합니다.
                    </p>
                </div>
                <div class="chart-row">
                    <div class="chart-container half">
                        <h4>전년 대비 성장률 (%)</h4>
                         <canvas id="growthChart"></canvas>
                    </div>
                    <div class="chart-container half">
                        <h4>지역별 발전 비중 (Pie)</h4>
                        <canvas id="regionalShareChart"></canvas>
                    </div>
                </div>
            </section>

            <!-- SECTION 3: REGIONAL COMPARISON -->
            <section class="card section-fade">
                <div class="card-header">
                    <h3>🏙️ 지역별 발전량 비교 (Top 5)</h3>
                    <p class="chart-desc">
                        선택한 연도의 군·구별 에너지 생산 능력을 비교합니다.
                    </p>
                </div>
                <div class="chart-container">
                    <canvas id="regionalChart"></canvas>
                </div>
            </section>

            <!-- SECTION 4: ENERGY MIX -->
            <section class="card section-fade">
                <div class="card-header">
                    <h3>☀️ 에너지원별 구성비</h3>            <p class="chart-desc">
                        선택한 연도에 인천시에서 가장 비중이 높은 에너지원은 무엇인지 확인하세요.
                    </p>
                </div>
                <div class="chart-container">
                    <canvas id="mixChart"></canvas>
                </div>
            </section>

            <!-- SECTION 5: DEEP DIVE (Heatmap & Dynamic Ranking) -->
            <section class="card full-width section-fade">
                <div class="card-header">
                    <h3>🔍 상세 분석: 지역 vs 에너지원</h3>
                    <p class="chart-desc">
                        히트맵으로 전체적인 분포를 보거나, 특정 에너지원의 지역별 순위를 확인하세요.
                    </p>
                    <div class="chart-controls">
                        <button class="btn active" onclick="showHeatmap(this)">히트맵 보기</button>
                        <button class="btn" onclick="showRanking(this)">에너지원별 순위 보기</button>
                        
                        <div id="rankingControl" class="ranking-control hidden">
                            <span class="control-label">대상:</span>
                            <select id="sourceSelect" onchange="updateRankingTable()">
                                <!-- Options populated by JS -->
                            </select>
                        </div>
                    </div>
                </div>
                
                <!-- Container for dynamic content (Table or Chart) -->
                <div id="detail-view-container" class="detail-container">
                    <!-- Heatmap Table will be injected here -->
                </div>
            </section>

            <!-- SECTION 6: ANALYSIS & ACTION PLAN -->
            <section class="card full-width section-fade" style="margin-top: 20px;">
                <div class="card-header">
                    <h3>💡 [결론] 데이터 기반 분석 및 지속가능 목표(SDG 7) 달성 전략</h3>
                    <div class="header-controls">
                        <a href="https://www.google.com/search?q=인천+신재생에너지&tbm=nws" target="_blank" class="btn" style="text-decoration: none;">📰 관련 뉴스 보기</a>
                    </div>
                </div>
                <div class="strategy-content" style="padding: 0 20px 20px 20px; line-height: 1.8; color: #333;">
                    
                     <div class="strategy-item">
                        <strong style="color: var(--primary); font-size: 1.1em;">1. [데이터 분석] 왜 '서구'의 발전량이 압도적인가?</strong>
                        <p>
                            데이터 확인 결과, <strong>서구</strong>는 인천 전체 신재생에너지의 상당 부분을 차지합니다. 
                            이는 수도권 매립지를 활용한 <strong>대규모 바이오 가스 시설</strong>과 <strong>수소 연료전지 발전소</strong> 등 에너지 기반 시설이 서구에 집중되어 있기 때문입니다.
                            즉, 인천의 신재생에너지는 자연 입지보다 <strong>도시 기반 인프라(폐기물 처리, 기존 발전소)</strong>와의 연계성이 매우 높다는 특징이 있습니다.
                        </p>
                    </div>

                    <div class="strategy-item" style="margin-top: 15px;">
                        <strong style="color: var(--primary); font-size: 1.1em;">2. [잠재력] 왜 '해상풍력'과 '태양광'을 주목해야 하는가?</strong>
                        <p>
                            인천은 <strong>168개의 섬과 광활한 갯벌</strong>을 보유한 해양 도시입니다. 
                            <strong>바람 자원이 풍부</strong>하여 해상풍력의 발전 효율이 매우 높고, 유휴 부지(염전 등)를 활용한 태양광 보급 잠재력 또한 큽니다.
                            현재의 연료전지 중심 구조에서 벗어나, 탄소 배출이 완전히 없는 <strong>청정 자연 에너지(Wind & Solar)</strong> 비중을 높이는 것이 진정한 SDG 7 달성의 핵심입니다.
                        </p>
                    </div>
                    
                    <div class="strategy-item" style="margin-top: 15px;">
                        <strong style="color: var(--primary); font-size: 1.1em;">3. [미래 전략] 해상풍력 클러스터 & 산단 RE100</strong>
                        <p>
                            단순 보급을 넘어, 옹진군 해역의 풍부한 풍력 자원을 활용해 <strong>대규모 해상풍력 클러스터</strong>를 조성해야 합니다. 
                            또한, 여기서 생산된 청정 에너지를 남동국가산단 등 지역 기업에 우선 공급하여, 기업들의 <strong>RE100 달성</strong>을 지원하고 글로벌 무역 장벽을 넘을 수 있는 <strong>'그린 에너지 산업 생태계'</strong>를 구축해야 합니다.
                        </p>
                    </div>

                    <div class="strategy-item" style="margin-top: 25px; padding-top: 15px; border-top: 1px dashed #ddd;">
                        <strong style="color: #111827; font-size: 1.2em;">🔍 [최종 결론]</strong>
                        <p style="margin-top: 5px;">
                            결론적으로, 현재 인천은 <strong>도시 기반형 에너지(연료전지, 바이오)</strong>에 의존하고 있습니다. 
                            진정한 탄소 중립 도시로 나아가기 위해서는 <strong>해양 자원(풍력, 태양광)</strong>을 적극 활용하는 에너지 패러다임의 전환이 필수적임을 데이터를 통해 확인하였습니다.
                        </p>
                    </div>

                </div>
            </section>

        </main>

        <footer>
            <p>&copy; Team 문학소년준 (ISHS 32nd 엄지오, ISHS 32nd 김준서) | Data Source: 공공데이터포털</p>
        </footer>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0"></script>
    <script src="data.js"></script> <!-- Load Data First -->
    <script src="script.js"></script>
</body>
</html>
